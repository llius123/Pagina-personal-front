<nz-layout>
    <nz-header>Header</nz-header>
    <nz-layout>
        <nz-sider>
            <nz-sider nzWidth="200px">
                <div nz-row>
                    <button
                        class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                        *ngFor="let project of projects" nz-col nzSpan="24" (click)="selectProject(project)">
                        {{project.TITLE}}
                    </button>
                </div>
            </nz-sider>
        </nz-sider>
        <nz-content>
            <div nz-row>
                <div *ngFor="let todo of todos; let i = index" nz-col nzSpan="24">
                    <div class="h-12" nz-row>
                        <div nz-col nzSpan="1"></div>
                        <div class="border-solid border-b-2 border-gray-600 flex justify-start items-end pb-2" nz-col
                            nzSpan="1">
                            <i class="cursor-pointer" nz-icon nzType="border-left" nzTheme="outline"></i>
                        </div>
                        <div class="border-solid border-b-2 border-gray-600 flex justify-start items-end pb-2" nz-col
                            nzSpan="2">
                            <i (click)="done(todo, i)" *ngIf="todo.DONE === 0" nz-icon class="cursor-pointer"
                                nzType="customIcon:circle" nzTheme="outline"></i>
                            <i (click)="done(todo, i)" *ngIf="todo.DONE === 1" nz-icon class="cursor-pointer checkIcon"
                                nzType="customIcon:checkCircle" nzTheme="outline"></i>
                        </div>
                        <div class="border-solid border-b-2 border-gray-600 flex justify-start items-end pb-2" nz-col
                            nzSpan="15">
                            {{todo.TITLE}}
                        </div>
                        <div class="border-solid border-b-2 border-gray-600 flex justify-end items-end pb-2" nz-col
                            nzSpan="4">
                            <i (click)="deleteTodo(todo, i)" nz-icon class="deleteIcon cursor-pointer" nzType="delete"
                                nzTheme="outline"></i>
                        </div>
                        <div nz-col nzSpan="1"></div>
                    </div>
                </div>
            </div>
            <div nz-row>
                <div nz-col nzSpan="24">
                    <div class="h-12" nz-row>
                        <div nz-col nzSpan="1"></div>
                        <div class="border-solid border-b-2 border-gray-600 flex justify-start items-end pb-2" nz-col
                            nzSpan="22">
                            <i (click)="showModal()" class="cursor-pointer" nz-icon nzType="plus-circle"
                                nzTheme="outline"></i>
                        </div>
                        <div nz-col nzSpan="1"></div>
                    </div>
                </div>
            </div>
        </nz-content>
    </nz-layout>
</nz-layout>

<nz-modal [nzFooter]="modalFooter" [(nzVisible)]="isVisible" nzTitle="Nuevo todo">
    <form [formGroup]="newTodo">
        <div nz-row>
            <div nz-col nzSpan="24">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
                        Titulo
                    </label>
                    <input formControlName="TITLE"
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight"
                        id="title" type="text" placeholder="Titulo">
                </div>
            </div>
        </div>
    </form>
    <ng-template #modalFooter>
        <button (click)="handleCancel()" nz-button nzType="default">Cerrar</button>
        <button (click)="handleOk()" nz-button nzType="primary">Crear</button>
    </ng-template>
</nz-modal>